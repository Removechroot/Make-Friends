(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/index"],{5423:function(t,n,e){"use strict";(function(t){e("d0df");a(e("66fd"));var n=a(e("5a09"));function a(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"5a09":function(t,n,e){"use strict";e.r(n);var a=e("e607"),o=e("7bfe");for(var i in o)"default"!==i&&function(t){e.d(n,t,(function(){return o[t]}))}(i);var r,u=e("f0c5"),s=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);n["default"]=s.exports},"7bfe":function(t,n,e){"use strict";e.r(n);var a=e("e09e"),o=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(n,t,(function(){return a[t]}))}(i);n["default"]=o.a},e09e:function(t,n,e){"use strict";(function(t,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("a34a")),i=r(e("3614"));function r(t){return t&&t.__esModule?t:{default:t}}function u(t){return d(t)||l(t)||c(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,n){if(t){if("string"===typeof t)return f(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?f(t,n):void 0}}function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function d(t){if(Array.isArray(t))return f(t)}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,a=new Array(n);e<n;e++)a[e]=t[e];return a}function h(t,n,e,a,o,i,r){try{var u=t[i](r),s=u.value}catch(c){return void e(c)}u.done?n(s):Promise.resolve(s).then(a,o)}function m(t){return function(){var n=this,e=arguments;return new Promise((function(a,o){var i=t.apply(n,e);function r(t){h(i,a,o,r,u,"next",t)}function u(t){h(i,a,o,r,u,"throw",t)}r(void 0)}))}}var p=function(){Promise.all([e.e("common/vendor"),e.e("components/common/common-list")]).then(function(){return resolve(e("94ee"))}.bind(null,e)).catch(e.oe)},v=function(){e.e("components/uni-ui/uni-nav-bar/uni-nav-bar").then(function(){return resolve(e("74b3"))}.bind(null,e)).catch(e.oe)},b=function(){e.e("components/uni-load-more/uni-load-more").then(function(){return resolve(e("0623"))}.bind(null,e)).catch(e.oe)},g={components:{commonList:p,uniLoadMore:b,uniNavBar:v},data:function(){return{tabltlist:[],windowHeight:0,scrollInto:"",tabIndex:0,tabBars:[{name:"推荐",id:0},{name:"测试",id:1},{name:"热点",id:2},{name:"财经",id:3},{name:"娱乐",id:4},{name:"军事",id:5},{name:"历史",id:6},{name:"本地",id:7}],newsList:[],page:0,total:0,arr:[],status:"more"}},onNavigationBarButtonTap:function(n){t.navigateTo({url:"../add-input/add-input"})},onNavigationBarSearchInputClicked:function(){t.navigateTo({url:"../search/search?type=post"})},onPullDownRefresh:function(){var n=this;setTimeout((function(){n.getdata(),t.stopPullDownRefresh()}),800)},onLoad:function(){var n=t.getSystemInfoSync();this.windowHeight=n.windowHeight-t.upx2px(102),this.tabBars.length&&this.GetData()},onTabItemTap:function(t){t.index},methods:{clickLeft:function(){setTimeout((function(){t.showModal({content:"签到成功",showCancel:!1})}),500)},clickCenten:function(){t.navigateTo({url:"../search/search?type=post"})},clickright:function(){t.navigateTo({url:"../add-input/add-input"})},GetData:function(){var t=this;return m(o.default.mark((function n(){var e,i;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.callFunction({name:"gettablelist",data:{page:t.page}});case 2:for(e=n.sent,i=0;i<t.tabBars.length;i++)t.arr.push({list:[]});t.newsList=t.arr,e.success&&(t.arr[t.tabIndex].list=e.result.context.data,t.newsList=t.arr,t.total=e.result.total);case 6:case"end":return n.stop()}}),n)})))()},Follow:function(n){var e=this,o=n.id,i=n.type,r=n.index;a.callFunction({name:"update",data:{type:"isFollow",id:o,isFollow:i}}).then((function(n){if(0===n.result.status){e.newsList[e.tabIndex].list[r].isFollow=i;var a=!0===i?"关注成功":"取消关注";t.showToast({title:a})}}))},type:function(t){var n=this.newsList[this.tabIndex].list[t.index];i.default.Nice(t,n)},changetTab:function(t){this.tabIndex!==t&&(this.tabIndex=t,this.scrollInto="tab_"+t,this.getlist())},onchange:function(t){var n=t.detail;this.changetTab(n.current)},loadmore:function(t){var n=this;if("more"===this.status){if(this.total===this.newsList[this.tabIndex].list.length)return this.status="nomore";this.status="loading",this.page++,a.callFunction({name:"gettablelist",data:{page:this.page}}).then((function(t){if(t.success){var e=t.result.context.data;n.newsList[n.tabIndex].list=[].concat(u(n.newsList[n.tabIndex].list),u(e)),n.status="more"}}))}}}};n.default=g}).call(this,e("543d")["default"],e("a9ff")["default"])},e607:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return a}));var a={uniLoadMore:function(){return e.e("components/uni-load-more/uni-load-more").then(e.bind(null,"0623"))}},o=function(){var t=this,n=t.$createElement;t._self._c},i=[]}},[["5423","common/runtime","common/vendor"]]]);