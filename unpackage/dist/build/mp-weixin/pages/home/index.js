<<<<<<< HEAD
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/index"],{"09cd":function(t,n,o){"use strict";o.r(n);var e=o("d69a"),r=o("4c8c");for(var u in r)"default"!==u&&function(t){o.d(n,t,(function(){return r[t]}))}(u);var i,a=o("f0c5"),s=Object(a["a"])(r["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],i);n["default"]=s.exports},"4c8c":function(t,n,o){"use strict";o.r(n);var e=o("7fed"),r=o.n(e);for(var u in e)"default"!==u&&function(t){o.d(n,t,(function(){return e[t]}))}(u);n["default"]=r.a},"582a":function(t,n,o){"use strict";(function(t){o("ee3d");e(o("66fd"));var n=e(o("09cd"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,o("543d")["createPage"])},"7fed":function(t,n,o){"use strict";(function(t){function e(t){return a(t)||i(t)||u(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,n){if(t){if("string"===typeof t)return s(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(t,n):void 0}}function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t){if(Array.isArray(t))return s(t)}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,e=new Array(n);o<n;o++)e[o]=t[o];return e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=[{username:"罗三岁小可爱",userpic:"../../static/xk.jpg",newstime:"2020-20-20 下午4:32",isFollow:!1,title:"震惊...我居然舔了两口猫屁股",titlepic:"../../static/mpg.jpg",support:{type:"",support_count:"999+",unsupport_count:2},comment_count:2,share_name:2},{username:"虾老板",userpic:"../../static/xia.jpg",newstime:"2020-20-20 下午4:32",isFollow:!1,title:"我喜欢了一个30岁的女人...居然让我....",titlepic:"",support:{type:"unsupport",support_count:0,unsupport_count:"999+"},comment_count:2,share_name:2}],p=function(){o.e("components/common/common-list").then(function(){return resolve(o("21f6"))}.bind(null,o)).catch(o.oe)},l=function(){o.e("components/common/load-more").then(function(){return resolve(o("1d4f"))}.bind(null,o)).catch(o.oe)},d={components:{commonList:p,loadMore:l},data:function(){return{windowHeight:0,scrollInto:"",tabIndex:0,tabBars:[{name:"关注",id:0},{name:"推荐",id:1},{name:"热点",id:2},{name:"财经",id:3},{name:"娱乐",id:4},{name:"军事",id:5},{name:"历史",id:6},{name:"本地",id:7}],newsList:[]}},onNavigationBarButtonTap:function(n){t.navigateTo({url:"../add-input/add-input"})},onNavigationBarSearchInputClicked:function(){t.navigateTo({url:"../search/search?type=post"})},onPullDownRefresh:function(){var n=this;setTimeout((function(){n.getdata(),t.stopPullDownRefresh()}),800)},onLoad:function(){t.getStorage({key:"addlist",success:function(t){var n=t.data;c.unshift(n)}});var n=t.getSystemInfoSync();this.windowHeight=n.windowHeight-t.upx2px(102),this.getData()},computed:{},methods:{getData:function(){for(var t=[],n=0;n<this.tabBars.length;n++){var o={loadmore:"上拉加载更多",list:[]};n<2&&(o.list=c),t.push(o)}this.newsList=t},Follow:function(n){this.list[n].isFollow=!0,t.showToast({title:"关注成功"})},type:function(n){console.log(n);var o=this.newsList[0].list[n.index],e="support"===n.type?"顶成功":"踩成功";if(""===o.support.type)return console.log(1),o.support.type=n.type,void o.support[n.type+"_count"]++;"support"===o.support.type&&"unsupport"===n.type&&(console.log(2),o.support.support_count--,o.support.unsupport_count++),"unsupport"===o.support.type&&"support"===n.type&&(console.log(3),o.support.support_count++,o.support.unsupport_count--),o.support.type=n.type,t.showToast({title:e})},changetTab:function(t){this.tabIndex!==t&&(this.tabIndex=t,this.scrollInto="tab_"+t)},onchange:function(t){var n=t.detail;this.changetTab(n.current)},loadmore:function(t){var n=this.newsList[t];"上拉加载更多"===n.loadmore&&(n.loadmore="努力加载中...",setTimeout((function(){n.list=[].concat(e(n.list),e(n.list)),n.loadmore="上拉加载更多"}),800))}}};n.default=d}).call(this,o("543d")["default"])},d69a:function(t,n,o){"use strict";var e;o.d(n,"b",(function(){return r})),o.d(n,"c",(function(){return u})),o.d(n,"a",(function(){return e}));var r=function(){var t=this,n=t.$createElement;t._self._c},u=[]}},[["582a","common/runtime","common/vendor"]]]);
=======
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/index"],{"09cd":function(t,n,e){"use strict";e.r(n);var a=e("57ee"),o=e("4c8c");for(var i in o)"default"!==i&&function(t){e.d(n,t,(function(){return o[t]}))}(i);var r,u=e("f0c5"),s=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);n["default"]=s.exports},"4c8c":function(t,n,e){"use strict";e.r(n);var a=e("7fed"),o=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(n,t,(function(){return a[t]}))}(i);n["default"]=o.a},"57ee":function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return a}));var a={uniLoadMore:function(){return e.e("components/uni-load-more/uni-load-more").then(e.bind(null,"5ea2"))}},o=function(){var t=this,n=t.$createElement;t._self._c},i=[]},"582a":function(t,n,e){"use strict";(function(t){e("ee3d");a(e("66fd"));var n=a(e("09cd"));function a(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"7fed":function(t,n,e){"use strict";(function(t,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("a34a")),i=r(e("634f"));function r(t){return t&&t.__esModule?t:{default:t}}function u(t){return d(t)||l(t)||c(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,n){if(t){if("string"===typeof t)return f(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?f(t,n):void 0}}function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function d(t){if(Array.isArray(t))return f(t)}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,a=new Array(n);e<n;e++)a[e]=t[e];return a}function h(t,n,e,a,o,i,r){try{var u=t[i](r),s=u.value}catch(c){return void e(c)}u.done?n(s):Promise.resolve(s).then(a,o)}function m(t){return function(){var n=this,e=arguments;return new Promise((function(a,o){var i=t.apply(n,e);function r(t){h(i,a,o,r,u,"next",t)}function u(t){h(i,a,o,r,u,"throw",t)}r(void 0)}))}}var p=function(){Promise.all([e.e("common/vendor"),e.e("components/common/common-list")]).then(function(){return resolve(e("21f6"))}.bind(null,e)).catch(e.oe)},v=function(){e.e("components/uni-load-more/uni-load-more").then(function(){return resolve(e("5ea2"))}.bind(null,e)).catch(e.oe)},b={components:{commonList:p,uniLoadMore:v},data:function(){return{tabltlist:[],windowHeight:0,scrollInto:"",tabIndex:0,tabBars:[{name:"关注",id:0},{name:"推荐",id:1},{name:"热点",id:2},{name:"财经",id:3},{name:"娱乐",id:4},{name:"军事",id:5},{name:"历史",id:6},{name:"本地",id:7}],newsList:[],page:0,total:0,arr:[],status:"more"}},onNavigationBarButtonTap:function(n){t.navigateTo({url:"../add-input/add-input"})},onNavigationBarSearchInputClicked:function(){t.navigateTo({url:"../search/search?type=post"})},onPullDownRefresh:function(){var n=this;setTimeout((function(){n.getdata(),t.stopPullDownRefresh()}),800)},onLoad:function(){var n=t.getSystemInfoSync();this.windowHeight=n.windowHeight-t.upx2px(102),this.tabBars.length&&this.GetData()},onTabItemTap:function(t){t.index},methods:{GetData:function(){var t=this;return m(o.default.mark((function n(){var e,i;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.callFunction({name:"gettablelist",data:{page:t.page}});case 2:for(e=n.sent,i=0;i<t.tabBars.length;i++)t.arr.push({list:[]});t.newsList=t.arr,e.success&&(t.arr[t.tabIndex].list=e.result.context.data,t.newsList=t.arr,t.total=e.result.total);case 6:case"end":return n.stop()}}),n)})))()},Follow:function(n){var e=this,o=n.id,i=n.type,r=n.index;a.callFunction({name:"update",data:{type:"isFollow",id:o,isFollow:i}}).then((function(n){if(0===n.result.status){e.newsList[e.tabIndex].list[r].isFollow=i;var a=!0===i?"关注成功":"取消关注";t.showToast({title:a})}}))},type:function(t){var n=this.newsList[this.tabIndex].list[t.index];i.default.Nice(t,n)},changetTab:function(t){this.tabIndex!==t&&(this.tabIndex=t,this.scrollInto="tab_"+t,this.getlist())},onchange:function(t){var n=t.detail;this.changetTab(n.current)},loadmore:function(t){var n=this;if("more"===this.status){if(this.total===this.newsList[this.tabIndex].list.length)return this.status="nomore";this.status="loading",this.page++,a.callFunction({name:"gettablelist",data:{page:this.page}}).then((function(t){if(t.success){var e=t.result.context.data;n.newsList[n.tabIndex].list=[].concat(u(n.newsList[n.tabIndex].list),u(e)),n.status="more"}}))}}}};n.default=b}).call(this,e("543d")["default"],e("a9ff")["default"])}},[["582a","common/runtime","common/vendor"]]]);
>>>>>>> origin/Cloud
