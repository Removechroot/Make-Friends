(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-detail-detail"],{"0610":function(t,e,n){"use strict";n.r(e);var i=n("6f20"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"21f6":function(t,e,n){"use strict";n.r(e);var i=n("35a3"),a=n("0610");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("f020");var s,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"009ae26e",null,!1,i["a"],s);e["default"]=u.exports},"336f":function(t,e,n){"use strict";n.r(e);var i=n("b034"),a=n("6310");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var s,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"101a3f30",null,!1,i["a"],s);e["default"]=u.exports},"35a3":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"p-2"},[n("v-uni-view",{staticClass:"flex align-center justify-between"},[n("v-uni-view",{staticClass:"flex justify-center align-center img"},[n("v-uni-image",{attrs:{src:t.item.userpic,"lazy-load":!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openspace.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"username ml-2"},[n("v-uni-view",{staticClass:"font",staticStyle:{"line-height":"1.5"}},[t._v(t._s(t.item.username))]),n("v-uni-view",{staticClass:"font-sm",staticStyle:{color:"#9d9589","line-height":"1.5"}},[t._v(t._s(t.item.newstime))])],1)],1),t.item.isFollow?n("v-uni-view",{staticClass:"nofocus font-sm flex justify-center align-center",attrs:{"hover-class":"animate__animated animate__jello animate__fast"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.follow(!1)}}},[t._v("已关注")]):n("v-uni-view",{staticClass:"focus bg-danger flex justify-center align-center",attrs:{"hover-class":"animate__animated animate__jello animate__fast"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.follow(!0)}}},[t._v("关注")])],1),n("v-uni-view",{staticStyle:{"min-height":"80rpx"}},[n("v-uni-view",{staticClass:"centencon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openDtail.apply(void 0,arguments)}}},[t._v(t._s(t.item.title))]),t._t("default",[t.item.titlepic?[n("v-uni-image",{staticClass:"w-100",staticStyle:{height:"355rpx","border-radius":"5px"},attrs:{src:t.item.titlepic},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openDtail.apply(void 0,arguments)}}})]:t._e()])],2),n("v-uni-view",{staticClass:"flex bottom"},[n("v-uni-view",{staticClass:"flex align-center justify-center flex-1 animate__animated animate__faster",class:"support"===t.item.support.type?"ac-select":"",attrs:{"hover-class":"animate__jello text-main"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dosupport("support")}}},[n("v-uni-text",{staticClass:"iconfont icon-dianzan2 mr-2",style:"support"===t.item.support.type?"color:#ff4a6a;":""}),n("v-uni-text",[t._v(t._s(t.item.support.support_count))])],1),n("v-uni-view",{staticClass:"flex align-center justify-center flex-1 animate__animated animate__faster",class:"unsupport"===t.item.support.type?"ac-select":"",attrs:{"hover-class":"animate__jello text-main"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dosupport("unsupport")}}},[n("v-uni-text",{staticClass:"iconfont icon-cai mr-2",style:"unsupport"===t.item.support.type?"color:#ff4a6a;":""}),n("v-uni-text",[t._v(t._s(t.item.support.unsupport_count))])],1),n("v-uni-view",{staticClass:"flex align-center justify-center flex-1 animate__animated animate__faster",attrs:{"hover-class":"animate__animated animate__jello animate__fast"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doComment.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"iconfont icon-pinglun mr-2"}),n("v-uni-text",[t._v(t._s(t.item.comment_count))])],1),n("v-uni-view",{staticClass:"flex align-center justify-center flex-1 animate__animated animate__faster",attrs:{"hover-class":"animate__animated animate__jello animate__fast"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doShare.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"iconfont icon-fenxiang_2 mr-2"}),n("v-uni-text",[t._v(t._s(t.item.share_name))])],1)],1)],1)},o=[]},"3eab":function(t,e,n){"use strict";n.r(e);var i=n("416a"),a=n("b2f3");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var s,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"062fe1b0",null,!1,i["a"],s);e["default"]=u.exports},"416a":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("common-list",{attrs:{item:t.info,isdetail:!0},on:{doComment:function(e){arguments[0]=e=t.$handleEvent(e),t.doComment.apply(void 0,arguments)},Follow:function(e){arguments[0]=e=t.$handleEvent(e),t.follow.apply(void 0,arguments)},doShare:function(e){arguments[0]=e=t.$handleEvent(e),t.doShare.apply(void 0,arguments)},type:function(e){arguments[0]=e=t.$handleEvent(e),t.dosupport.apply(void 0,arguments)}}},[i("v-uni-view",{},[t._v(t._s(t.info.content)),i("v-uni-view",t._l(t.info.images,(function(e,n){return i("v-uni-image",{key:n,staticClass:"w-100",attrs:{src:e.url,mode:"",mode:"widthFix"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(n)}}})})),1)],1)],1),i("divider"),i("v-uni-view",{staticClass:"p-2 font-md font-weight-bold"},[t._v("最新评论：")]),i("v-uni-view",{staticClass:"px-2"},[i("v-uni-view",{staticClass:"uni-comment-list"},[i("v-uni-view",{staticClass:"uni-comment-face"},[i("v-uni-image",{attrs:{src:n("f108"),mode:"widthFix"}})],1),i("v-uni-view",{staticClass:"uni-comment-body"},[i("v-uni-text",[t._v("我是狗")]),i("v-uni-view",{staticClass:"uni-comment-content"},[t._v("真的是狗")]),i("v-uni-view",{staticClass:"uni-comment-date"},[i("v-uni-view",[t._v("2天前")])],1)],1)],1)],1),i("more-share",{ref:"share"}),i("v-uni-view",{staticStyle:{height:"100rpx"}}),i("bottonBtn",{attrs:{submit:t.submit}})],1)},o=[]},6310:function(t,e,n){"use strict";n.r(e);var i=n("b193"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"6f20":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},props:{item:Object,index:{type:Number,default:-1},isdetail:!1,_id:""},methods:{openspace:function(){console.log(1)},follow:function(t){this.$emit("Follow",{id:this.item._id,type:t,index:this.index})},openDtail:function(){this.isdetail||uni.navigateTo({url:"../../pages/detail/detail?detail="+JSON.stringify(this.item)})},dosupport:function(t){this.$emit("type",{index:this.index,type:t})},doComment:function(){if(!this.isdetail)return this.openDtail();this.$emit("doComment")},doShare:function(){if(!this.isdetail)return this.openDtail();this.$emit("doShare")}}};e.default=i},"794f":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"fixed-bottom flex align-center border-top bg-white",staticStyle:{height:"100rpx"}},[n("v-uni-input",{staticClass:"flex-1 rounded bg-light ml-2",staticStyle:{padding:"5rpx"},attrs:{type:"text",value:"",placeholder:"文明发炎从我做起"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("v-uni-view",{staticClass:"iconfont icon-fabu flex align-center justify-center font-lg animate__animated",staticStyle:{width:"100rpx"},attrs:{"hover-class":"animate__jello text-main"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}})],1)},o=[]},"94e9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{content:""}},methods:{submit:function(){if(""===this.content)return uni.showToast({title:"消息不能为空"});this.$emit("submit",this.content),this.content=""}}};e.default=i},b034:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uniPopup:n("485f").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("uni-popup",{ref:"popup",attrs:{type:"bottom"}},[n("v-uni-view",{staticClass:"bg-white"},[n("v-uni-view",{staticClass:"text-center py-2 font-md border-bottom border-light-secondary"},[t._v("分享到")]),n("v-uni-view",{staticClass:"flex align-center"},t._l(t.providerList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"flex-1 flex flex-column align-center justify-center py-2",attrs:{"hover-class":"bg-light",disabled:t.isDisableButton(e)},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.share(e)}}},[n("v-uni-view",{staticClass:"iconfont flex justify-center align-center font-lg  text-white rounded-circle ",class:e.icon+" "+e.color,staticStyle:{width:"100rpx",height:"100rpx"}}),n("v-uni-text",{staticClass:"font-sm mt-1 text-muted"},[t._v(t._s(e.name))])],1)})),1),n("v-uni-view",{staticClass:"text-center py-2 font-md border-top border-light-secondary",attrs:{"hover-class":"bg-light"}},[t._v("取消")])],1)],1)},o=[]},b193:function(t,e,n){"use strict";var i=n("4ea4");n("4e82"),n("d3b7"),n("ac1f"),n("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var a=i(n("1da1")),o=i(n("485f")),s={components:{uniPopup:o.default},data:function(){return{shareType:1,providerList:[],shareText:"uni-app可以同时发布成原生App、小程序、H5，邀请你一起体验！"}},computed:{isDisableButton:function(){return function(t){return 0===this.shareType&&"qq"===t.id||5===this.shareType&&"分享到微信好友"!==t.name}}},mounted:function(){var t=this;uni.getProvider({service:"share",success:function(e){for(var n=[],i=0;i<e.provider.length;i++)switch(e.provider[i]){case"weixin":n.push({name:"微信好友",icon:"icon-weixin",color:"bg-success",id:"weixin",sort:0}),n.push({name:"朋友圈",icon:"icon-huiyuanvip",color:"bg-dark",id:"weixin",type:"WXSenceTimeline",sort:1});break;case"sinaweibo":n.push({name:"微博",icon:"icon-weibo",color:"bg-danger",id:"sinaweibo",sort:2});break;case"qq":n.push({name:"分享到QQ",icon:"icon-qq",color:"bg-primary",id:"qq",sort:3});break;default:break}t.providerList=n.sort((function(t,e){return t.sort-e.sort}))},fail:function(t){console.log("获取分享通道失败",t),uni.showModal({content:"获取分享通道失败",showCancel:!1})}})},methods:{open:function(){this.$refs.popup.open()},close:function(){this.$refs.popup.close()},share:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("分享通道:"+t.id+"； 分享类型:"+e.shareType),e.shareText||1!==e.shareType&&0!==e.shareType){n.next=4;break}return uni.showModal({content:"分享内容不能为空",showCancel:!1}),n.abrupt("return");case 4:if(e.image||2!==e.shareType&&0!==e.shareType){n.next=7;break}return uni.showModal({content:"分享图片不能为空",showCancel:!1}),n.abrupt("return");case 7:i={provider:t.id,scene:t.type&&"WXSenceTimeline"===t.type?"WXSenceTimeline":"WXSceneSession",type:e.shareType,success:function(t){console.log("success",t),uni.showModal({content:"已分享",showCancel:!1})},fail:function(t){console.log("fail",t),uni.showModal({content:t.errMsg,showCancel:!1})},complete:function(){console.log("分享操作结束!")}},n.t0=e.shareType,n.next=0===n.t0?11:1===n.t0?16:2===n.t0?18:5===n.t0?20:24;break;case 11:return i.summary=e.shareText,i.imageUrl=e.image,i.title="欢迎体验uniapp",i.href="https://uniapp.dcloud.io",n.abrupt("break",25);case 16:return i.summary=e.shareText,n.abrupt("break",25);case 18:return i.imageUrl=e.image,n.abrupt("break",25);case 20:return i.imageUrl=e.image?e.image:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/app/share-logo@3.png",i.title="欢迎体验uniapp",i.miniProgram={id:"gh_33446d7f7a26",path:"/pages/tabBar/component/component",webUrl:"https://uniapp.dcloud.io",type:0},n.abrupt("break",25);case 24:return n.abrupt("break",25);case 25:if(0!==i.type||"iOS"!==plus.os.name){n.next=29;break}return n.next=28,e.compress();case 28:i.imageUrl=n.sent;case 29:1===i.type&&"qq"===i.provider&&(i.href="https://uniapp.dcloud.io",i.title="欢迎体验uniapp"),uni.share(i);case 31:case"end":return n.stop()}}),n)})))()},compress:function(){console.log("开始压缩");var t=this.image;return new Promise((function(e){var n=plus.io.convertAbsoluteFileSystem(t.replace("file://",""));console.log("after"+n),plus.io.resolveLocalFileSystemURL(n,(function(n){n.file((function(n){console.log("getFile:"+JSON.stringify(n)),n.size>20480&&plus.zip.compressImage({src:t,dst:t.replace(".jpg","2222.jpg").replace(".JPG","2222.JPG"),width:"10%",height:"10%",quality:1,overwrite:!0},(function(n){console.log("success zip****"+n.size);var i=t.replace(".jpg","2222.jpg").replace(".JPG","2222.JPG");e(i)}),(function(t){uni.showModal({content:"分享图片太大,需要请重新选择图片!",showCancel:!1})}))}))}),(function(t){console.log("Resolve file URL failed: "+t.message),uni.showModal({content:"分享图片太大,需要请重新选择图片!",showCancel:!1})}))}))}}};e.default=s},b2f3:function(t,e,n){"use strict";n.r(e);var i=n("e471"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},c504:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".img uni-image[data-v-009ae26e]{width:%?85?%;height:%?85?%;border-radius:100%}.username[data-v-009ae26e]{padding-right:160}.focus[data-v-009ae26e]{width:%?90?%;height:%?50?%;background-color:#ff4a6ax;color:#fff;border-radius:5px}.nofocus[data-v-009ae26e]{width:%?90?%;height:%?50?%;background-color:silver;color:#fff;border-radius:5px}.centencon[data-v-009ae26e]{font-size:%?30?%;margin:%?10?% 0}.bottonfz[data-v-009ae26e]{font-size:%?35?%}.bottonfz uni-text[data-v-009ae26e]{padding-left:%?10?%}.ac-select[data-v-009ae26e]{color:#ff4a6a}",""]),t.exports=e},d3a6:function(t,e,n){var i=n("c504");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("4debf532",i,!0,{sourceMap:!1,shadowMode:!1})},e471:function(t,e,n){"use strict";var i=n("4ea4");n("d81d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("21f6")),o=i(n("f15e")),s=i(n("336f")),r={components:{commonList:a.default,bottonBtn:o.default,moreShare:s.default},onNavigationBarButtonTap:function(){this.$refs.share.open()},onBackPress:function(){this.$refs.share.close()},data:function(){return{info:{username:"罗三岁小可爱",userpic:"../../static/xk.jpg",newstime:"2020-20-20 下午4:32",isFollow:!1,title:"震惊...我居然舔了两口猫屁股",titlepic:"../../static/mpg.jpg",support:{type:"",support_count:"2",unsupport_count:2},comment_count:2,share_name:2,images:[{url:"/static/lxg-1.jpg"},{url:"/static/xia.jpg"}],content:"asasddsasd"}}},onLoad:function(t){t.detail&&this.__init(JSON.parse(t.detail))},computed:{imageslist:function(){return this.info.images.map((function(t){return t.url}))}},methods:{__init:function(t){uni.setNavigationBarTitle({title:t.title})},doComment:function(){},doShare:function(){},follow:function(t){this.info.isFollow=!0,uni.showToast({title:"关注成功"})},dosupport:function(t){var e="support"===t.type?"顶":"踩";if(this.info.support.type===t.type)return uni.showToast({title:"你已操作"});""===this.info.support.type?this.info.support[t.type+"_count"]++:"support"===this.info.support.type&&"unsupport"===t.type?(this.info.support.support_count--,this.info.support.unsupport_count++):"unsupport"===this.info.support.type&&"support"===t.type&&(this.info.support.support_count++,this.info.support.unsupport_count--),this.info.support.type=t.type,uni.showToast({title:e})},preview:function(t){uni.previewImage({urls:this.imageslist,count:t})},submit:function(t){var e={user_id:1,avatar:"/static/mb.jpg",username:"昵称",msg:t,type:"text",create_time:(new Date).getTime()};this.list.push(e)}}};e.default=r},e472:function(t,e,n){"use strict";n.r(e);var i=n("94e9"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},f020:function(t,e,n){"use strict";var i=n("d3a6"),a=n.n(i);a.a},f108:function(t,e,n){t.exports=n.p+"static/img/demo2ima.af20f05b.jpg"},f15e:function(t,e,n){"use strict";n.r(e);var i=n("794f"),a=n("e472");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var s,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"19558e0e",null,!1,i["a"],s);e["default"]=u.exports}}]);