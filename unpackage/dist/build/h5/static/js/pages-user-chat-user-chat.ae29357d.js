(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-chat-user-chat"],{1408:function(t,e,n){"use strict";n.r(e);var i=n("2e97"),r=n("c876");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var u,o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"6e5c0d32",null,!1,i["a"],u);e["default"]=s.exports},"1e85":function(t,e,n){"use strict";var i=n("4ea4");n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("8581")),a=1,u={props:{item:Object,index:Number,pretime:[Number,String]},data:function(){return{}},computed:{isSelf:function(){return a===this.item.user_id},shoreTime:function(){return r.default.getChatTime(this.item.create_time,this.pretime)}},methods:{}};e.default=u},"2dce":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("f809")),a=i(n("f15e")),u={components:{userChat:r.default,bottonBtn:a.default},data:function(){return{scrollInto:"",content:"",list:[{user_id:2,avatar:"/static/mb.jpg",username:"昵称",msg:"你好啊",type:"text",create_time:(new Date).getTime()},{user_id:2,avatar:"/static/mb.jpg",username:"昵称",msg:"靓仔!!",type:"text",create_time:(new Date).getTime()}]}},onReady:function(){this.pagetoBottom()},methods:{submit:function(t){var e={user_id:1,avatar:"/static/mb.jpg",username:"昵称",msg:t,type:"text",create_time:(new Date).getTime()};this.list.push(e),this.pagetoBottom()},pagetoBottom:function(){var t=this.list.length-1;console.log(t),this.scrollInto="chat"+t}}};e.default=u},"2e97":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={userChat:n("f809").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-scroll-view",{staticStyle:{position:"absolute",left:"0",top:"0",right:"0",bottom:"100rpx"},attrs:{"scroll-y":!0,"scroll-into-view":t.scrollInto,"scroll-with-animation":!0}},[t._l(t.list,(function(t,e){return[n("v-uni-view",{key:e+"_0",attrs:{id:"chat"+e+1}},[n("user-chat",{attrs:{item:t,index:e,pretime:e>0?"list[index-1].create_time":"0"}})],1)]}))],2),n("botton-btn",{on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}})],1)},a=[]},"794f":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"fixed-bottom flex align-center border-top bg-white",staticStyle:{height:"100rpx"}},[n("v-uni-input",{staticClass:"flex-1 rounded bg-light ml-2",staticStyle:{padding:"5rpx"},attrs:{type:"text",value:"",placeholder:"文明发炎从我做起"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("v-uni-view",{staticClass:"iconfont icon-fabu flex align-center justify-center font-lg animate__animated",staticStyle:{width:"100rpx"},attrs:{"hover-class":"animate__jello text-main"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}})],1)},a=[]},8581:function(t,e,n){"use strict";n("d3b7"),n("e25e"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={getHoroscope:function(t){var e=["摩羯","水瓶","双鱼","白羊","金牛","双子","巨蟹","狮子","处女","天秤","天蝎","射手","摩羯"];t=new Date(t);var n=t.getMonth()+1,i=t.getDate(),r=n-(i-14<"865778999988".charAt(n));return e[r]+"座"},sumAge:function(t){var e=new Date(t.replace(/-/g,"/")),n=new Date,i=n.getTime()-e.getTime(),r=Math.floor(i/864e5),a=i%864e5,u=Math.floor(a/36e5),o=a%36e5,s=(Math.floor(o/6e4),o%6e4);Math.round(s/1e3);return r+"天 "+u+"小时 "},getChatTime:function(t,e){if(t=t.toString().length<13?1e3*t:t,e=e.toString().length<13?1e3*e:e,(parseInt(t)-parseInt(e))/1e3>300)return this.gettime(t)},gettime:function(t){t=t.toString().length<13?1e3*t:t;var e=(new Date).getTime(),n=(e-parseInt(t))/1e3;return n<43200?this.dateFormat(new Date(t),"{A} {t}:{ii}"):n<518400?this.dateFormat(new Date(t),"{Mon}月{DD}日 {A} {t}:{ii}"):this.dateFormat(new Date(t),"{Y}-{MM}-{DD} {A} {t}:{ii}")},parseNumber:function(t){return t<10?"0"+t:t},dateFormat:function(t,e){var n={},i=/\{([^}]+)\}/,r=["1","2","3","4","5","6","7","8","9","10","11","12"];n["Y"]=t.getFullYear(),n["M"]=t.getMonth()+1,n["MM"]=this.parseNumber(n["M"]),n["Mon"]=r[n["M"]-1],n["D"]=t.getDate(),n["DD"]=this.parseNumber(n["D"]),n["h"]=t.getHours(),n["hh"]=this.parseNumber(n["h"]),n["t"]=n["h"]>12?n["h"]-12:n["h"],n["tt"]=this.parseNumber(n["t"]),n["A"]=n["h"]>12?"下午":"上午",n["i"]=t.getMinutes(),n["ii"]=this.parseNumber(n["i"]),n["s"]=t.getSeconds(),n["ss"]=this.parseNumber(n["s"]);while(i.test(e))e=e.replace(i,n[RegExp.$1]);return e},getAgeByBirthday:function(t){var e=new Date(t.replace(/-/g,"/")),n=new Date;return n.getFullYear()-e.getFullYear()-(n.getMonth()<e.getMonth()||n.getMonth()==e.getMonth()&&n.getDate()<e.getDate()?1:0)}};e.default=i},9055:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t.shoreTime?n("v-uni-view",{staticClass:"py-2 flex align-center justify-center font-sm text-light-muted"},[t._v(t._s(t.shoreTime))]):t._e(),n("v-uni-view",{staticClass:"flex align-start px-2 my-2",style:t.isSelf?"flex-direction: row-reverse;":""},[n("v-uni-view",{staticClass:"flex align-start px-2 my-2",style:t.isSelf?"flex-direction: row-reverse;":""},[n("v-uni-image",{staticClass:"rounded-circle",staticStyle:{height:"100rpx",width:"100rpx"},attrs:{src:t.item.avatar,mode:""}}),n("v-uni-view",{staticClass:"bg-light p-2 rounded mx-2",staticStyle:{"max-width":"400rpx"}},[t._v(t._s(t.item.msg))])],1)],1)],1)},a=[]},"94e9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{content:""}},methods:{submit:function(){if(""===this.content)return uni.showToast({title:"消息不能为空"});this.$emit("submit",this.content),this.content=""}}};e.default=i},b085:function(t,e,n){"use strict";n.r(e);var i=n("1e85"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},c876:function(t,e,n){"use strict";n.r(e);var i=n("2dce"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},e472:function(t,e,n){"use strict";n.r(e);var i=n("94e9"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},f15e:function(t,e,n){"use strict";n.r(e);var i=n("794f"),r=n("e472");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var u,o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"19558e0e",null,!1,i["a"],u);e["default"]=s.exports},f809:function(t,e,n){"use strict";n.r(e);var i=n("9055"),r=n("b085");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var u,o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"7450983a",null,!1,i["a"],u);e["default"]=s.exports}}]);